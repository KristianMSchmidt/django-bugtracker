<div class="container mt-5">
    {% for message in messages %}
    <div class="alert alert-{{ message.tags }}">
        {{ message }}
    </div>
    {% endfor %} 
    <div class="card">
        <div class="card-header">
            Project Details
        </div>
        <div class="card-body">
            <h5 class="card-title"><small class="text-muted">Title:</small> {{ project.title }}</h5>
            <p class="card-text"><span class="text-muted">Description:</span> {{ project.description }}</p>
            <p class="card-text"><span class="text-muted">Created by:</span> {{ project.created_by }}</p>
            <p class="card-text"><span class="text-muted">Created at:</span> {{ project.created_at }}</p>
            <p class="card-text"><span class="text-muted">Last update:</span> {{ project.updated_at }}</p>
            <div class="d-flex justify-content-between">
        
                <a href="#" hx-get="{% url 'project_edit' project.pk %}" hx-target="#body-col">Edit project</a><br>
                <a href="#" 
                    hx-get="{% url 'project_delete' project.pk %}"
                    hx-target="#modals-here" 
                    hx-trigger="click"
                    _="on htmx:afterOnLoad wait 10ms then add .show to #modal then add .show to #modal-backdrop">Delete Project
                </a>
            </div>
        </div>
    </div>



<div id="modals-here"></div>
        
     <br><br>

    <h2>Tickets for this project</h2>
                         <a href="#" hx-get="{% url 'add_ticket_to_project' project.pk %}" hx-target="#body-col">Add ticket to project</a>

    <table>
        <tr>
            <th>Title</th>
            <th>Description</th>
            <th>Submitter</th>
            <th>Created at</th>
            <th>Last update</th>
            <th>Developer</th>
            <th>More Details</th>
        </tr>
        {% for ticket in project.tickets.all %}
            <tr>
                <td>{{ ticket.title }}<br></td>
                <td>{{ ticket.description }}<br></td>
                <td>{{ ticket.submitter }}<br></td>
                <td>{{ ticket.created_at }}<br></td>
                <td>{{ ticket.updated_at }}<br></td>
                <td>{{ ticket.developer }}<br></td>
                <td><a href="#" hx-get="{{ ticket.get_absolute_url }}" hx-target="#body-col">Details</a>
                </td>
            </tr>
        {% endfor %}
    </table>
  <h2>Enrolled Users</h2> 
        {% for user in project.users.all %}
            {{ user.username }}<br>
        {% endfor %}


</div>
